generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id         String    @id @default(cuid())
  email      String    @unique
  name       String
  password   String
  photo      String?
  last_login DateTime? @default(now())
  created_at DateTime  @default(now())
  updated_at DateTime  @updatedAt
  FavoriteGames FavoriteGames[]
  PlayLaterGames PlayLaterGames[]
}

model Questions {
  id         String       @id @default(cuid())
  question   String
  options    Answers[]
  required   Boolean
  tag        QuestionsTag
  created_at DateTime     @default(now())
  updated_at DateTime     @updatedAt
}

model Answers {
  id          String    @id @default(cuid())
  question_id String
  answer      String
  value       String
  created_at  DateTime  @default(now())
  updated_at  DateTime  @updatedAt
  question    Questions @relation(fields: [question_id], references: [id])
}

model Quizzes {
  id                  String   @id @default(cuid())
  user_id             String
  favorite_games      String[]
  genres              String[]
  categories          String[]
  operational_systems String[]
  game_language       String
  publishers          String[]
  game_modes          String[]
  game_styles         String[]
  camera_perspective  String[]
  created_at          DateTime @default(now())
  updated_at          DateTime @updatedAt
  GameSuggested       GameSuggested[]
}

model GameSuggested {
  id                  String   @id @default(cuid())
  game_id             Int
  quiz_id             String
  quiz                Quizzes  @relation(fields: [quiz_id], references: [id])
  name                String
  short_description   String
  header_image        String
  release_date        String
  suggested_at        DateTime @default(now())
}

model FavoriteGames {
  id                  String   @id @default(cuid())
  user_id             String
  user                User     @relation(fields: [user_id], references: [id])
  game_id             Int
  name                String
  short_description   String
  header_image        String
  release_date        String
  favorited_at        DateTime @default(now())
}

model PlayLaterGames {
  id                  String   @id @default(cuid())
  user_id             String
  user                User     @relation(fields: [user_id], references: [id])
  game_id             Int
  name                String
  short_description   String
  header_image        String
  release_date        String
  added_at            DateTime @default(now())
}

enum QuestionsTag {
  FAVORITE_GAMES
  GENRES
  CATEGORIES
  OPERATIONAL_SYSTEMS
  GAME_LANGUAGE
  PUBLISHERS
  MODE
  STYLE
  CAMERA
}
